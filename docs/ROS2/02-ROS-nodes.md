---
id: nodes
title: ROS ноды
sidebar_label: ROS ноды
sidebar_position: 3
description: ROS ноды
---

## ROS-ноды ровера

При загрузке ровера автоматически запускается 9 ROS-нод, каждая из которых отвечает за отдельную часть системы:
```
/control_move  
/cyphal_bridge  
/imu  
/joy  
/odom  
/radiolink_control  
/rosbridge_server  
/usb_cam  
/web_video_server
```
Ниже приведено подробное описание назначения каждой ноды.

---

`/joy`

Стандартная ROS-нода для работы с джойстиком.
Она получает данные от подключённого контроллера и публикует сообщения типа Joy, содержащие текущее состояние всех кнопок и осей. Эти данные далее используются для управления движением робота.

---

`/radiolink_control`

Нода обработки команд управления.
Она принимает данные от джойстика (из /joy) и преобразует их в желаемые линейные и угловые скорости ровера, удобные для дальнейшей обработки.

---

`/control_move`

Нода управления движением ровера.
Она принимает желаемую скорость робота и пересчитывает её в индивидуальные скорости для каждого из шести приводных моторов, с учётом кинематики платформы.

---

`/imu`

Нода работы с инерциальным измерительным модулем.
Она считывает данные с IMU (ускорения, угловые скорости, ориентацию) и публикует их в соответствующие ROS-топики для последующего использования.

---

`/odom`

Нода одометрии робота.
Она объединяет данные с IMU и обратную связь от шести колёс, вычисляя текущее положение ровера в пространстве.
На выходе формируются данные одометрии: координаты x, y и угол ориентации θ.

---

`/cyphal_bridge`

Мост между ROS 2 и Cyphal.
Эта нода преобразует сообщения, сервисы и параметры ROS в соответствующие структуры Cyphal и обратно, обеспечивая связь между ROS-уровнем и низкоуровневой электроникой робота.

---

`/usb_cam`

ROS-драйвер для работы с USB-камерой.
Отвечает за захват видеопотока и публикацию изображений в ROS-топики.

---

`/web_video_server`

Нода для трансляции видеопотоков из ROS.
Она конвертирует изображения из топиков (например, с камеры) и предоставляет их по HTTP, что позволяет просматривать видео в веб-браузере или сторонних приложениях.

---

`/rosbridge_server`

WebSocket-интерфейс для взаимодействия с ROS.
Позволяет внешним приложениям (веб-интерфейсам, мобильным клиентам, облачным сервисам) обмениваться данными с роботом через JSON-сообщения.
Используется для работы веб-интерфейса и веб-сервера управления ровером.

:::info
Чтобы получить более подробную информацию о ноде используйте утилиту ROS2:
```
ros2 node info <название ноды> 
```
Например:
```
ros2 node info /odom
```
